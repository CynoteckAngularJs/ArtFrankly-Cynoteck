<form class="address-form" [ngFormModel]="form" novalidate>

  <div ngControlGroup="location">
      <input type="hidden" ngControl="@id">
      <div class="form-group" [ngClass]="{'has-error': isShowErrors && !form.controls.location.controls.name.valid}" *ngIf="!hidelocationname">
        <div class="alert alert-danger" *ngIf="isShowErrors && form.controls.location.controls.name.errors && form.controls.location.controls.name.errors.required">Name is required</div>
        <label class="sr-only" for="contactNameInput">{{namelabel}}</label>
        <input type="text" class="form-control" id="contactNameInput" ngControl="name" placeholder="{{namelabel | uppercase}}">
      </div>
      
      <div ngControlGroup="address">
        <div class="form-group" [ngClass]="{'has-error': isShowErrors && !form.controls.location.controls.address.controls.telephone.valid}" *ngIf="!hidelocationtelephone">
          <label class="sr-only" for="contactAddressTelephoneInput">{{phonelabel}}</label>
          <input type="text" class="form-control" id="contactAddressTelephoneInput" ngControl="telephone" placeholder="{{phonelabel | uppercase}}">
        </div>
        
        <div class="row" *ngIf="!hidestreetaddress || !hidestreetaddress">
          <div *ngIf="!hidestreetaddress" class="form-group col-sm-8" [ngClass]="{'col-sm-8': !hidestreetaddress, 'col-sm-12': hidestreetaddress, 'has-error': isShowErrors && !form.controls.location.controls.address.controls.streetAddress.valid}">
            <div class="alert alert-danger" *ngIf="isShowErrors && form.controls.location.controls.address.controls.streetAddress.errors && form.controls.location.controls.address.controls.streetAddress.errors.required">Street is required</div>
            <label class="sr-only" for="contactAddressStreetAddressInput">Street</label>
            <input type="text" class="form-control" id="contactAddressStreetAddressInput" ngControl="streetAddress" placeholder="STREET">
          </div>
          
          <div *ngIf="!hideappartment" class="form-group col-sm-4" [ngClass]="{'col-sm-4': !hideappartment, 'col-sm-12': hideappartment, 'has-error': isShowErrors && !form.controls.location.controls.address.controls.apartment.valid}">
            <div class="alert alert-danger" *ngIf="isShowErrors && form.controls.location.controls.address.controls.apartment.errors && form.controls.location.controls.address.controls.apartment.errors.required">Apartment is required</div>
            <label class="sr-only" for="contactAddressapartmentInput">Apartment</label>
            <input type="text" class="form-control" id="contactAddressapartmentInput" ngControl="apartment" placeholder="APARTMENT">
          </div>
        </div>
        
        <div class="form-group" [ngClass]="{'has-error': isShowErrors && !form.controls.location.controls.address.controls.city.valid}">
          <div class="alert alert-danger" *ngIf="isShowErrors && form.controls.location.controls.address.controls.city.errors && form.controls.location.controls.address.controls.city.errors.required">City is required</div>
          <label class="sr-only" for="contactAddressCityInput">City</label>
          <input type="text" class="form-control" id="contactAddressCityInput" ngControl="city" placeholder="CITY">
        </div>
        
        <div class="row">
          <div class="form-group" [ngClass]="{ 'col-sm-6': !hidezip, 'col-sm-12': hidezip, 'has-error': isShowErrors && !form.controls.location.controls.address.controls.addressRegion.valid}">
            <select class="form-control" [ng2select2]="addressRegion" [ng2select2options]="stateSelect2Options" #addressRegion="ngForm" ngControl="addressRegion">
              <option *ngFor="#cstate of US_STATES" [value]="cstate.value">{{cstate.label}}</option>
            </select>
          </div>
          
          <div *ngIf="!hidezip" class="form-group col-sm-6" [ngClass]="{'has-error': isShowErrors && !form.controls.location.controls.address.controls.postalCode.valid}">
            <div class="alert alert-danger" *ngIf="isShowErrors && form.controls.location.controls.address.controls.postalCode.errors && form.controls.location.controls.address.controls.postalCode.errors.required">ZIP is required</div>
            <label class="sr-only" for="contactAddressPostalCodeInput">ZIP</label>
            <input type="text" class="form-control" id="contactAddressPostalCodeInput" ngControl="postalCode" placeholder="ZIP">
          </div>
        </div>
        
        <div class="form-group" [ngClass]="{'has-error': isShowErrors && !form.controls.location.controls.address.controls.addressCountry.valid}">
          <select class="form-control" [ng2select2]="addressCountry" [ng2select2options]="countrySelect2Options" #addressCountry="ngForm" ngControl="addressCountry">
            <option *ngFor="#ccountry of COUNTIRES" [value]="ccountry.value">{{ccountry.label}}</option>
          </select>
        </div>
      </div>
    </div>

</form>
